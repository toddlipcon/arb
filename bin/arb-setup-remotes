#!/usr/bin/perl

use strict;
use warnings;
use FindBin;
use lib "$FindBin::RealBin/../perllib/";

use Pod::Usage;
use Getopt::Long;

use ARB;

my $getopt = GetOptions(
    "help" => sub { pod2usage(-verbose => 2); }
) or pod2usage(-verbose => 1);

my $project = ARB::deduce_project();

die "Cannot deduce project" unless $project;

system("git remote add review " . ARB::get_review_repository());
system("git remote add main " . ARB::get_main_repository());

print "Remotes set up\n";

__END__

=pod

=head1 NAME

arb-setup-remotes - sets up remote branches for the "main" and "review" repositories

=head1 SYNOPSIS

B<arb-setup-remotes>

=head1 DESCRIPTION

This command will use any of {main, review, origin} to determine the ARB project you're
working on in this git repository, and then set up git remotes to "main" and "review"
if they don't already exist.

=head1 AUTHOR

Todd Lipcon, E<lt>todd@amiestreet.comE<gt>

=cut
